<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Comparação Escolas</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-2xl font-bold mb-4">Debug Test</h1>
        
        <!-- Teste dos elementos -->
        <div class="bg-white p-4 mb-4">
            <h2>Test Elements</h2>
            <canvas id="graficoDispersaoAlura" width="400" height="200"></canvas>
            <div id="analiseGrupos"></div>
            <table>
                <tbody id="corpoTabelaCorrelacao"></tbody>
            </table>
        </div>
        
        <button onclick="runTests()" class="bg-blue-500 text-white px-4 py-2 rounded">Run Tests</button>
        
        <div id="results" class="mt-4 p-4 bg-gray-50"></div>
    </div>

    <script>
        function runTests() {
            const results = document.getElementById('results');
            let output = '<h3>Test Results:</h3>';
            
            // Teste 1: Verificar elementos
            const elementos = [
                'graficoDispersaoAlura',
                'analiseGrupos', 
                'corpoTabelaCorrelacao'
            ];
            
            elementos.forEach(id => {
                const el = document.getElementById(id);
                output += `<p>${id}: ${el ? '✅ Found' : '❌ Not found'}</p>`;
            });
            
            // Teste 2: Chart.js
            output += `<p>Chart.js loaded: ${typeof Chart !== 'undefined' ? '✅ Yes' : '❌ No'}</p>`;
            
            // Teste 3: Criar um gráfico simples
            try {
                const ctx = document.getElementById('graficoDispersaoAlura');
                if (ctx) {
                    new Chart(ctx, {
                        type: 'scatter',
                        data: {
                            datasets: [{
                                label: 'Test Data',
                                data: [{x: 1, y: 2}, {x: 2, y: 3}],
                                backgroundColor: 'red'
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                x: { type: 'linear' },
                                y: { type: 'linear' }
                            }
                        }
                    });
                    output += '<p>Chart creation: ✅ Success</p>';
                } else {
                    output += '<p>Chart creation: ❌ Canvas not found</p>';
                }
            } catch (error) {
                output += `<p>Chart creation: ❌ Error - ${error.message}</p>`;
            }
            
            results.innerHTML = output;
        }
        
        // Auto-run on load
        window.onload = runTests;
    </script>
</body>
</html>